{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.220.0"},"children":{"HivemindPrism-Network":{"id":"HivemindPrism-Network","path":"HivemindPrism-Network","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"HivemindVpc":{"id":"HivemindVpc","path":"HivemindPrism-Network/HivemindVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.20.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.220.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.20.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/PublicSubnet1"},{"key":"SecurityLevel","value":"High"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"Acl":{"id":"Acl","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/PublicSubnet1"},{"key":"SecurityLevel","value":"High"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HivemindVpcPublicSubnet1RouteTableA849C5AB"},"subnetId":{"Ref":"HivemindVpcPublicSubnet1Subnet595DA15C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"HivemindVpcIGW5BC705E4"},"routeTableId":{"Ref":"HivemindVpcPublicSubnet1RouteTableA849C5AB"}}}},"EIP":{"id":"EIP","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/PublicSubnet1"},{"key":"SecurityLevel","value":"High"}]}}},"NATGateway":{"id":"NATGateway","path":"HivemindPrism-Network/HivemindVpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["HivemindVpcPublicSubnet1EIP1AFE2783","AllocationId"]},"subnetId":{"Ref":"HivemindVpcPublicSubnet1Subnet595DA15C"},"tags":[{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/PublicSubnet1"},{"key":"SecurityLevel","value":"High"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.220.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.20.1.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1"},{"key":"SecurityLevel","value":"High"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"Acl":{"id":"Acl","path":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1"},{"key":"SecurityLevel","value":"High"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HivemindVpcPrivateSubnet1RouteTable6760B120"},"subnetId":{"Ref":"HivemindVpcPrivateSubnet1Subnet5BE540C4"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"HivemindPrism-Network/HivemindVpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"HivemindVpcPublicSubnet1NATGateway7062C7E7"},"routeTableId":{"Ref":"HivemindVpcPrivateSubnet1RouteTable6760B120"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.220.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.20.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1"},{"key":"SecurityLevel","value":"High"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"Acl":{"id":"Acl","path":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1"},{"key":"SecurityLevel","value":"High"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HivemindPrism-Network/HivemindVpc/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HivemindVpcIsolatedSubnet1RouteTable0D338655"},"subnetId":{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}}}}}},"IGW":{"id":"IGW","path":"HivemindPrism-Network/HivemindVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}]}}},"VPCGW":{"id":"VPCGW","path":"HivemindPrism-Network/HivemindVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"HivemindVpcIGW5BC705E4"},"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"HivemindPrism-Network/HivemindVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.220.0","metadata":[]},"children":{"Default":{"id":"Default","path":"HivemindPrism-Network/HivemindVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"S3Endpoint":{"id":"S3Endpoint","path":"HivemindPrism-Network/HivemindVpc/S3Endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/S3Endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"routeTableIds":[{"Ref":"HivemindVpcIsolatedSubnet1RouteTable0D338655"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".s3"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"DynamoDbEndpoint":{"id":"DynamoDbEndpoint","path":"HivemindPrism-Network/HivemindVpc/DynamoDbEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/DynamoDbEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"routeTableIds":[{"Ref":"HivemindVpcIsolatedSubnet1RouteTable0D338655"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".dynamodb"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"EcrApi":{"id":"EcrApi","path":"HivemindPrism-Network/HivemindVpc/EcrApi","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/EcrApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.ecr.api","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"EcrDocker":{"id":"EcrDocker","path":"HivemindPrism-Network/HivemindVpc/EcrDocker","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/EcrDocker/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.ecr.dkr","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"CloudWatchLogs":{"id":"CloudWatchLogs","path":"HivemindPrism-Network/HivemindVpc/CloudWatchLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/CloudWatchLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.logs","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"SecretsManager":{"id":"SecretsManager","path":"HivemindPrism-Network/HivemindVpc/SecretsManager","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/SecretsManager/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.secretsmanager","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"Sts":{"id":"Sts","path":"HivemindPrism-Network/HivemindVpc/Sts","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/Sts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.sts","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"StepFunctions":{"id":"StepFunctions","path":"HivemindPrism-Network/HivemindVpc/StepFunctions","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/StepFunctions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.states","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"EventBridge":{"id":"EventBridge","path":"HivemindPrism-Network/HivemindVpc/EventBridge","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/EventBridge/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.events","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"Sns":{"id":"Sns","path":"HivemindPrism-Network/HivemindVpc/Sns","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/Sns/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.sns","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"Kms":{"id":"Kms","path":"HivemindPrism-Network/HivemindVpc/Kms","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/Kms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.kms","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"BedrockRuntime":{"id":"BedrockRuntime","path":"HivemindPrism-Network/HivemindVpc/BedrockRuntime","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/BedrockRuntime/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.bedrock-runtime","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"CloudWatchMonitoring":{"id":"CloudWatchMonitoring","path":"HivemindPrism-Network/HivemindVpc/CloudWatchMonitoring","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/CloudWatchMonitoring/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.monitoring","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"XRay":{"id":"XRay","path":"HivemindPrism-Network/HivemindVpc/XRay","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/HivemindVpc/XRay/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HivemindPrism-VPC"},{"key":"SecurityLevel","value":"High"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["VpcEndpointSecurityGroup02EA44AC","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.xray","subnetIds":[{"Ref":"HivemindVpcIsolatedSubnet1Subnet01ABE97E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"HivemindPrism-Network/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Network/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Role":{"id":"Role","path":"HivemindPrism-Network/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}},"Handler":{"id":"Handler","path":"HivemindPrism-Network/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"VpcEndpointSecurityGroup":{"id":"VpcEndpointSecurityGroup","path":"HivemindPrism-Network/VpcEndpointSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Network/VpcEndpointSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for VPC interface endpoints","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["HivemindVpc63A10AFB","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS from VPC"}],"vpcId":{"Ref":"HivemindVpc63A10AFB"}}}}}},"VpcId":{"id":"VpcId","path":"HivemindPrism-Network/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"VpcCidr":{"id":"VpcCidr","path":"HivemindPrism-Network/VpcCidr","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HivemindPrism-Network/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HivemindPrism-Network/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"HivemindPrism-Network/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"HivemindVpc63A10AFB\"}":{"id":"Output{\"Ref\":\"HivemindVpc63A10AFB\"}","path":"HivemindPrism-Network/Exports/Output{\"Ref\":\"HivemindVpc63A10AFB\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"HivemindVpcIsolatedSubnet1Subnet01ABE97E\"}":{"id":"Output{\"Ref\":\"HivemindVpcIsolatedSubnet1Subnet01ABE97E\"}","path":"HivemindPrism-Network/Exports/Output{\"Ref\":\"HivemindVpcIsolatedSubnet1Subnet01ABE97E\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"HivemindVpcPrivateSubnet1Subnet5BE540C4\"}":{"id":"Output{\"Ref\":\"HivemindVpcPrivateSubnet1Subnet5BE540C4\"}","path":"HivemindPrism-Network/Exports/Output{\"Ref\":\"HivemindVpcPrivateSubnet1Subnet5BE540C4\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HivemindPrism-Network/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HivemindPrism-Network/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"HivemindPrism-Security":{"id":"HivemindPrism-Security","path":"HivemindPrism-Security","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"HivemindKey":{"id":"HivemindKey","path":"HivemindPrism-Security/HivemindKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/HivemindKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"KMS key for Hivemind-Prism platform encryption","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::909507831547:root"},"Resource":"*"},{"Action":["kms:Decrypt","kms:GenerateDataKey"],"Condition":{"StringEquals":{"kms:ViaService":"s3.us-west-2.amazonaws.com"}},"Effect":"Allow","Principal":{"Service":"s3.amazonaws.com"},"Resource":"*","Sid":"Allow S3 to use key"},{"Action":["kms:CreateGrant","kms:Decrypt","kms:DescribeKey"],"Condition":{"StringEquals":{"kms:ViaService":"dynamodb.us-west-2.amazonaws.com"}},"Effect":"Allow","Principal":{"Service":"dynamodb.amazonaws.com"},"Resource":"*","Sid":"Allow DynamoDB to use key"}],"Version":"2012-10-17"},"pendingWindowInDays":30}}},"Alias":{"id":"Alias","path":"HivemindPrism-Security/HivemindKey/Alias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/HivemindKey/Alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/hivemind-platform","targetKeyId":{"Fn::GetAtt":["HivemindKeyB4006B32","Arn"]}}}}}}}},"VpcEndpointsSg":{"id":"VpcEndpointsSg","path":"HivemindPrism-Security/VpcEndpointsSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/VpcEndpointsSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for VPC interface endpoints","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}},"from HivemindPrismSecurityAgentTasksSg5E275263:443":{"id":"from HivemindPrismSecurityAgentTasksSg5E275263:443","path":"HivemindPrism-Security/VpcEndpointsSg/from HivemindPrismSecurityAgentTasksSg5E275263:443","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow agents to access endpoints","fromPort":443,"groupId":{"Fn::GetAtt":["VpcEndpointsSgB7473DD6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AgentTasksSg17243AF5","GroupId"]},"toPort":443}}},"from HivemindPrismSecurityMcpToolsSgC1AB003E:443":{"id":"from HivemindPrismSecurityMcpToolsSgC1AB003E:443","path":"HivemindPrism-Security/VpcEndpointsSg/from HivemindPrismSecurityMcpToolsSgC1AB003E:443","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow MCP tools to access endpoints","fromPort":443,"groupId":{"Fn::GetAtt":["VpcEndpointsSgB7473DD6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["McpToolsSg1B279A8A","GroupId"]},"toPort":443}}}}},"AgentTasksSg":{"id":"AgentTasksSg","path":"HivemindPrism-Security/AgentTasksSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/AgentTasksSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for AI agent Fargate tasks","vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}},"to HivemindPrismSecurityVpcEndpointsSg8F4092F8:443":{"id":"to HivemindPrismSecurityVpcEndpointsSg8F4092F8:443","path":"HivemindPrism-Security/AgentTasksSg/to HivemindPrismSecurityVpcEndpointsSg8F4092F8:443","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Allow HTTPS to VPC endpoints","destinationSecurityGroupId":{"Fn::GetAtt":["VpcEndpointsSgB7473DD6","GroupId"]},"fromPort":443,"groupId":{"Fn::GetAtt":["AgentTasksSg17243AF5","GroupId"]},"ipProtocol":"tcp","toPort":443}}}}},"McpToolsSg":{"id":"McpToolsSg","path":"HivemindPrism-Security/McpToolsSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/McpToolsSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for MCP tool Fargate tasks","vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}},"to HivemindPrismSecurityVpcEndpointsSg8F4092F8:443":{"id":"to HivemindPrismSecurityVpcEndpointsSg8F4092F8:443","path":"HivemindPrism-Security/McpToolsSg/to HivemindPrismSecurityVpcEndpointsSg8F4092F8:443","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Allow HTTPS to VPC endpoints","destinationSecurityGroupId":{"Fn::GetAtt":["VpcEndpointsSgB7473DD6","GroupId"]},"fromPort":443,"groupId":{"Fn::GetAtt":["McpToolsSg1B279A8A","GroupId"]},"ipProtocol":"tcp","toPort":443}}}}},"ElastiCacheSg":{"id":"ElastiCacheSg","path":"HivemindPrism-Security/ElastiCacheSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/ElastiCacheSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for ElastiCache Redis cluster","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}},"from HivemindPrismSecurityAgentTasksSg5E275263:6379":{"id":"from HivemindPrismSecurityAgentTasksSg5E275263:6379","path":"HivemindPrism-Security/ElastiCacheSg/from HivemindPrismSecurityAgentTasksSg5E275263:6379","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow agents to access Redis","fromPort":6379,"groupId":{"Fn::GetAtt":["ElastiCacheSg3DA9FF1D","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AgentTasksSg17243AF5","GroupId"]},"toPort":6379}}}}},"HivemindCliUserRole":{"id":"HivemindCliUserRole","path":"HivemindPrism-Security/HivemindCliUserRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportHivemindCliUserRole":{"id":"ImportHivemindCliUserRole","path":"HivemindPrism-Security/HivemindCliUserRole/ImportHivemindCliUserRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Security/HivemindCliUserRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::909507831547:root"}}],"Version":"2012-10-17"},"description":"Role assumed by developers and CI/CD to upload code","maxSessionDuration":3600,"roleName":"HivemindCliUserRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Security/HivemindCliUserRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Security/HivemindCliUserRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":"arn:aws:kms:*:909507831547:key/*"},{"Action":["s3:AbortMultipartUpload","s3:ListMultipartUploadParts","s3:PutObject","s3:PutObjectAcl"],"Effect":"Allow","Resource":"arn:aws:s3:::hivemind-uploads-909507831547/uploads/*"},{"Action":["dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:*:909507831547:table/HivemindMissionStatus","arn:aws:dynamodb:*:909507831547:table/HivemindMissionStatus-909507831547"]}],"Version":"2012-10-17"},"policyName":"HivemindCliUserRoleDefaultPolicyB6ECF48F","roles":[{"Ref":"HivemindCliUserRoleD02399F7"}]}}}}}}},"KmsKeyId":{"id":"KmsKeyId","path":"HivemindPrism-Security/KmsKeyId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"KmsKeyArn":{"id":"KmsKeyArn","path":"HivemindPrism-Security/KmsKeyArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CliUserRoleArn":{"id":"CliUserRoleArn","path":"HivemindPrism-Security/CliUserRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HivemindPrism-Security/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HivemindPrism-Security/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"HivemindPrism-Security/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"HivemindKeyB4006B32\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"HivemindKeyB4006B32\",\"Arn\"]}","path":"HivemindPrism-Security/Exports/Output{\"Fn::GetAtt\":[\"HivemindKeyB4006B32\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"ElastiCacheSg3DA9FF1D\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ElastiCacheSg3DA9FF1D\",\"GroupId\"]}","path":"HivemindPrism-Security/Exports/Output{\"Fn::GetAtt\":[\"ElastiCacheSg3DA9FF1D\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"AgentTasksSg17243AF5\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AgentTasksSg17243AF5\",\"GroupId\"]}","path":"HivemindPrism-Security/Exports/Output{\"Fn::GetAtt\":[\"AgentTasksSg17243AF5\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HivemindPrism-Security/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HivemindPrism-Security/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"HivemindPrism-Storage":{"id":"HivemindPrism-Storage","path":"HivemindPrism-Storage","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"UploadsBucketImport":{"id":"UploadsBucketImport","path":"HivemindPrism-Storage/UploadsBucketImport","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}},"ArtifactsBucketImport":{"id":"ArtifactsBucketImport","path":"HivemindPrism-Storage/ArtifactsBucketImport","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}},"KendraBucketImport":{"id":"KendraBucketImport","path":"HivemindPrism-Storage/KendraBucketImport","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}},"MissionStatusTableImport":{"id":"MissionStatusTableImport","path":"HivemindPrism-Storage/MissionStatusTableImport","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableBase","version":"2.220.0","metadata":[]}},"ToolResultsTableImport":{"id":"ToolResultsTableImport","path":"HivemindPrism-Storage/ToolResultsTableImport","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableBase","version":"2.220.0","metadata":[]}},"FindingsArchiveTable":{"id":"FindingsArchiveTable","path":"HivemindPrism-Storage/FindingsArchiveTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Storage/FindingsArchiveTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"finding_id","attributeType":"S"},{"attributeName":"timestamp","attributeType":"N"},{"attributeName":"repo_name","attributeType":"S"},{"attributeName":"severity","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"repo_name-timestamp-index","keySchema":[{"attributeName":"repo_name","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"severity-timestamp-index","keySchema":[{"attributeName":"severity","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"finding_id","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"},"sseType":"KMS"},"tableName":"HivemindFindingsArchive-909507831547","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"HivemindPrism-Storage/FindingsArchiveTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"RedisSubnetGroup":{"id":"RedisSubnetGroup","path":"HivemindPrism-Storage/RedisSubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticache.CfnSubnetGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElastiCache::SubnetGroup","aws:cdk:cloudformation:props":{"cacheSubnetGroupName":"hivemind-redis-subnet-group","description":"Subnet group for Hivemind ElastiCache Redis","subnetIds":[{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcIsolatedSubnet1Subnet01ABE97E363D737D"}]}}},"RedisCluster":{"id":"RedisCluster","path":"HivemindPrism-Storage/RedisCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticache.CfnCacheCluster","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElastiCache::CacheCluster","aws:cdk:cloudformation:props":{"autoMinorVersionUpgrade":true,"cacheNodeType":"cache.t3.micro","cacheSubnetGroupName":{"Ref":"RedisSubnetGroup"},"engine":"redis","numCacheNodes":1,"preferredMaintenanceWindow":"sun:05:00-sun:06:00","snapshotRetentionLimit":0,"transitEncryptionEnabled":false,"vpcSecurityGroupIds":[{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttElastiCacheSg3DA9FF1DGroupId0AE1DF35"}]}}},"HivemindEventBus":{"id":"HivemindEventBus","path":"HivemindPrism-Storage/HivemindEventBus","constructInfo":{"fqn":"aws-cdk-lib.aws_events.EventBus","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Storage/HivemindEventBus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnEventBus","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::EventBus","aws:cdk:cloudformation:props":{"name":"HivemindPrism"}}}}},"UploadsBucketName":{"id":"UploadsBucketName","path":"HivemindPrism-Storage/UploadsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"ArtifactsBucketName":{"id":"ArtifactsBucketName","path":"HivemindPrism-Storage/ArtifactsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"MissionStatusTableName":{"id":"MissionStatusTableName","path":"HivemindPrism-Storage/MissionStatusTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"FindingsArchiveTableName":{"id":"FindingsArchiveTableName","path":"HivemindPrism-Storage/FindingsArchiveTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"RedisEndpoint":{"id":"RedisEndpoint","path":"HivemindPrism-Storage/RedisEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"RedisPort":{"id":"RedisPort","path":"HivemindPrism-Storage/RedisPort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"EventBusName":{"id":"EventBusName","path":"HivemindPrism-Storage/EventBusName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HivemindPrism-Storage/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HivemindPrism-Storage/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"HivemindPrism-Storage/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"FindingsArchiveTable557F1EE3\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FindingsArchiveTable557F1EE3\",\"Arn\"]}","path":"HivemindPrism-Storage/Exports/Output{\"Fn::GetAtt\":[\"FindingsArchiveTable557F1EE3\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"FindingsArchiveTable557F1EE3\"}":{"id":"Output{\"Ref\":\"FindingsArchiveTable557F1EE3\"}","path":"HivemindPrism-Storage/Exports/Output{\"Ref\":\"FindingsArchiveTable557F1EE3\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Address\"]}":{"id":"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Address\"]}","path":"HivemindPrism-Storage/Exports/Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Address\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Port\"]}":{"id":"Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Port\"]}","path":"HivemindPrism-Storage/Exports/Output{\"Fn::GetAtt\":[\"RedisCluster\",\"RedisEndpoint.Port\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HivemindPrism-Storage/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HivemindPrism-Storage/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"HivemindPrism-Intelligence":{"id":"HivemindPrism-Intelligence","path":"HivemindPrism-Intelligence","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"KendraIndexRole":{"id":"KendraIndexRole","path":"HivemindPrism-Intelligence/KendraIndexRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportKendraIndexRole":{"id":"ImportKendraIndexRole","path":"HivemindPrism-Intelligence/KendraIndexRole/ImportKendraIndexRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Intelligence/KendraIndexRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"kendra.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Role for Kendra index operations"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Intelligence/KendraIndexRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Intelligence/KendraIndexRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Condition":{"StringEquals":{"cloudwatch:namespace":"AWS/Kendra"}},"Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":"arn:aws:logs:us-west-2:909507831547:log-group:/aws/kendra/*"}],"Version":"2012-10-17"},"policyName":"KendraIndexRoleDefaultPolicyBE26FCDC","roles":[{"Ref":"KendraIndexRoleDB7DF3D0"}]}}}}}}},"InstitutionalMemoryIndex":{"id":"InstitutionalMemoryIndex","path":"HivemindPrism-Intelligence/InstitutionalMemoryIndex","constructInfo":{"fqn":"aws-cdk-lib.aws_kendra.CfnIndex","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Kendra::Index","aws:cdk:cloudformation:props":{"description":"Institutional memory index for security findings and patterns","documentMetadataConfigurations":[{"name":"severity","type":"STRING_VALUE","search":{"displayable":true,"facetable":true,"searchable":true,"sortable":true}},{"name":"repo_name","type":"STRING_VALUE","search":{"displayable":true,"facetable":true,"searchable":true,"sortable":true}},{"name":"timestamp","type":"DATE_VALUE","search":{"displayable":true,"facetable":true,"searchable":false,"sortable":true}},{"name":"pattern_type","type":"STRING_VALUE","search":{"displayable":true,"facetable":true,"searchable":true,"sortable":false}},{"name":"agent_consensus_score","type":"LONG_VALUE","search":{"displayable":true,"facetable":false,"searchable":false,"sortable":true}}],"edition":"DEVELOPER_EDITION","name":"HivemindInstitutionalMemory","roleArn":{"Fn::GetAtt":["KendraIndexRoleDB7DF3D0","Arn"]}}}},"KendraDataSourceRole":{"id":"KendraDataSourceRole","path":"HivemindPrism-Intelligence/KendraDataSourceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportKendraDataSourceRole":{"id":"ImportKendraDataSourceRole","path":"HivemindPrism-Intelligence/KendraDataSourceRole/ImportKendraDataSourceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Intelligence/KendraDataSourceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"kendra.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Role for Kendra S3 data source"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Intelligence/KendraDataSourceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Intelligence/KendraDataSourceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":"kms:Decrypt","Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}},{"Action":["kendra:BatchDeleteDocument","kendra:BatchPutDocument"],"Effect":"Allow","Resource":{"Fn::GetAtt":["InstitutionalMemoryIndex","Arn"]}}],"Version":"2012-10-17"},"policyName":"KendraDataSourceRoleDefaultPolicy2EAF086C","roles":[{"Ref":"KendraDataSourceRole9BBDC271"}]}}}}}}},"KendraS3DataSource":{"id":"KendraS3DataSource","path":"HivemindPrism-Intelligence/KendraS3DataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_kendra.CfnDataSource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Kendra::DataSource","aws:cdk:cloudformation:props":{"dataSourceConfiguration":{"s3Configuration":{"bucketName":"hivemind-kendra-memories-909507831547","inclusionPrefixes":["findings/","patterns/","policies/"]}},"indexId":{"Fn::GetAtt":["InstitutionalMemoryIndex","Id"]},"name":"InstitutionalMemoryS3Source","roleArn":{"Fn::GetAtt":["KendraDataSourceRole9BBDC271","Arn"]},"schedule":"cron(0 * * * ? *)","type":"S3"}}},"KendraIndexId":{"id":"KendraIndexId","path":"HivemindPrism-Intelligence/KendraIndexId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"KendraIndexArn":{"id":"KendraIndexArn","path":"HivemindPrism-Intelligence/KendraIndexArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"BedrockNote":{"id":"BedrockNote","path":"HivemindPrism-Intelligence/BedrockNote","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HivemindPrism-Intelligence/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HivemindPrism-Intelligence/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"HivemindPrism-Intelligence/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"InstitutionalMemoryIndex\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"InstitutionalMemoryIndex\",\"Arn\"]}","path":"HivemindPrism-Intelligence/Exports/Output{\"Fn::GetAtt\":[\"InstitutionalMemoryIndex\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"InstitutionalMemoryIndex\",\"Id\"]}":{"id":"Output{\"Fn::GetAtt\":[\"InstitutionalMemoryIndex\",\"Id\"]}","path":"HivemindPrism-Intelligence/Exports/Output{\"Fn::GetAtt\":[\"InstitutionalMemoryIndex\",\"Id\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HivemindPrism-Intelligence/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HivemindPrism-Intelligence/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"HivemindPrism-Compute":{"id":"HivemindPrism-Compute","path":"HivemindPrism-Compute","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"ArchaeologistTaskRole":{"id":"ArchaeologistTaskRole","path":"HivemindPrism-Compute/ArchaeologistTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportArchaeologistTaskRole":{"id":"ImportArchaeologistTaskRole","path":"HivemindPrism-Compute/ArchaeologistTaskRole/ImportArchaeologistTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/ArchaeologistTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"ECS task role for Archaeologist agent: Context discovery and metadata extraction","roleName":"HivemindArchaeologistTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/ArchaeologistTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/ArchaeologistTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","elasticache:DescribeCacheClusters","elasticache:DescribeReplicationGroups","kendra:Query","kendra:Retrieve","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*","arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547","arn:aws:dynamodb:us-west-2:909507831547:table/HivemindToolResults-909507831547",{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"ArchaeologistTaskRoleDefaultPolicy2650B1AE","roles":[{"Ref":"ArchaeologistTaskRole8B61F93D"}]}}}}}}},"StrategistTaskRole":{"id":"StrategistTaskRole","path":"HivemindPrism-Compute/StrategistTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportStrategistTaskRole":{"id":"ImportStrategistTaskRole","path":"HivemindPrism-Compute/StrategistTaskRole/ImportStrategistTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/StrategistTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"ECS task role for Strategist agent: Planning and tool selection","roleName":"HivemindStrategistTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/StrategistTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/StrategistTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","elasticache:DescribeCacheClusters","elasticache:DescribeReplicationGroups","kendra:Query","kendra:Retrieve","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*","arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547","arn:aws:dynamodb:us-west-2:909507831547:table/HivemindToolResults-909507831547",{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"StrategistTaskRoleDefaultPolicyBEA49F05","roles":[{"Ref":"StrategistTaskRole541CBCB4"}]}}}}}}},"CoordinatorTaskRole":{"id":"CoordinatorTaskRole","path":"HivemindPrism-Compute/CoordinatorTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportCoordinatorTaskRole":{"id":"ImportCoordinatorTaskRole","path":"HivemindPrism-Compute/CoordinatorTaskRole/ImportCoordinatorTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/CoordinatorTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"ECS task role for Coordinator agent: Resource allocation and scheduling","roleName":"HivemindCoordinatorTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/CoordinatorTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/CoordinatorTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","elasticache:DescribeCacheClusters","elasticache:DescribeReplicationGroups","kendra:Query","kendra:Retrieve","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*","arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547","arn:aws:dynamodb:us-west-2:909507831547:table/HivemindToolResults-909507831547",{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"CoordinatorTaskRoleDefaultPolicy09F64788","roles":[{"Ref":"CoordinatorTaskRole9462B0FA"}]}}}}}}},"SynthesizerTaskRole":{"id":"SynthesizerTaskRole","path":"HivemindPrism-Compute/SynthesizerTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportSynthesizerTaskRole":{"id":"ImportSynthesizerTaskRole","path":"HivemindPrism-Compute/SynthesizerTaskRole/ImportSynthesizerTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/SynthesizerTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"ECS task role for Synthesizer agent: Finding generation from tool results","roleName":"HivemindSynthesizerTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/SynthesizerTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/SynthesizerTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","elasticache:DescribeCacheClusters","elasticache:DescribeReplicationGroups","kendra:Query","kendra:Retrieve","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*","arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547","arn:aws:dynamodb:us-west-2:909507831547:table/HivemindToolResults-909507831547",{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"SynthesizerTaskRoleDefaultPolicy8C34C861","roles":[{"Ref":"SynthesizerTaskRole69378926"}]}}}}}}},"CriticTaskRole":{"id":"CriticTaskRole","path":"HivemindPrism-Compute/CriticTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportCriticTaskRole":{"id":"ImportCriticTaskRole","path":"HivemindPrism-Compute/CriticTaskRole/ImportCriticTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/CriticTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"ECS task role for Critic agent: Finding validation and challenge","roleName":"HivemindCriticTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/CriticTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/CriticTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","elasticache:DescribeCacheClusters","elasticache:DescribeReplicationGroups","kendra:Query","kendra:Retrieve","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*","arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547","arn:aws:dynamodb:us-west-2:909507831547:table/HivemindToolResults-909507831547",{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"CriticTaskRoleDefaultPolicy280285C1","roles":[{"Ref":"CriticTaskRoleCAC1AFB2"}]}}}}}}},"ArchivistTaskRole":{"id":"ArchivistTaskRole","path":"HivemindPrism-Compute/ArchivistTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportArchivistTaskRole":{"id":"ImportArchivistTaskRole","path":"HivemindPrism-Compute/ArchivistTaskRole/ImportArchivistTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/ArchivistTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"ECS task role for Archivist agent: Final storage and memory formation","roleName":"HivemindArchivistTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/ArchivistTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/ArchivistTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","elasticache:DescribeCacheClusters","elasticache:DescribeReplicationGroups","kendra:Query","kendra:Retrieve","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*","arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547","arn:aws:dynamodb:us-west-2:909507831547:table/HivemindToolResults-909507831547",{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"ArchivistTaskRoleDefaultPolicy9BFAD426","roles":[{"Ref":"ArchivistTaskRoleEE36BB64"}]}}}}}}},"McpServerTaskRole":{"id":"McpServerTaskRole","path":"HivemindPrism-Compute/McpServerTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportMcpServerTaskRole":{"id":"ImportMcpServerTaskRole","path":"HivemindPrism-Compute/McpServerTaskRole/ImportMcpServerTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/McpServerTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Role for MCP tool server tasks (code scanning + AWS security auditing)","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/SecurityAudit"]]}],"roleName":"HivemindMcpServerTaskRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/McpServerTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/McpServerTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["cloudtrail:GetEventSelectors","cloudtrail:GetTrailStatus","cloudtrail:ListTags","config:DescribeConfigurationRecorderStatus","config:DescribeConfigurationRecorders","ec2:DescribeImages","ec2:DescribeSnapshotAttribute","ec2:DescribeSnapshots","iam:GetAccountPasswordPolicy","iam:GetAccountSummary","iam:ListAccessKeys","iam:ListMFADevices","iam:ListVirtualMFADevices","lambda:GetFunction","lambda:GetFunctionConfiguration","lambda:GetPolicy","s3:GetAccountPublicAccessBlock","s3:GetBucketPolicyStatus","s3:GetBucketPublicAccessBlock"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:909507831547:secret:hivemind/aws-scan-credentials-*"}],"Version":"2012-10-17"},"policyName":"McpServerTaskRoleDefaultPolicy8E624EA6","roles":[{"Ref":"McpServerTaskRoleB19E5A08"}]}}}}}}},"UnpackLambdaRole":{"id":"UnpackLambdaRole","path":"HivemindPrism-Compute/UnpackLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportUnpackLambdaRole":{"id":"ImportUnpackLambdaRole","path":"HivemindPrism-Compute/UnpackLambdaRole/ImportUnpackLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/UnpackLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Lambda execution role: Unpack and validate uploaded code","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"roleName":"HivemindUnpackLambdaRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/UnpackLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/UnpackLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-uploads-909507831547","arn:aws:s3:::hivemind-uploads-909507831547/*"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-artifacts-909507831547","arn:aws:s3:::hivemind-artifacts-909507831547/*"]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547",{"Ref":"AWS::NoValue"}]},{"Action":"kms:Decrypt","Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}}],"Version":"2012-10-17"},"policyName":"UnpackLambdaRoleDefaultPolicy1DBA011B","roles":[{"Ref":"UnpackLambdaRoleCC4ECDC5"}]}}}}}}},"MemoryIngestorLambdaRole":{"id":"MemoryIngestorLambdaRole","path":"HivemindPrism-Compute/MemoryIngestorLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportMemoryIngestorLambdaRole":{"id":"ImportMemoryIngestorLambdaRole","path":"HivemindPrism-Compute/MemoryIngestorLambdaRole/ImportMemoryIngestorLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/MemoryIngestorLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Lambda execution role: Create Kendra memory documents","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"roleName":"HivemindMemoryIngestorRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/MemoryIngestorLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/MemoryIngestorLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttHivemindKeyB4006B32ArnC7048005"}},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttFindingsArchiveTable557F1EE3Arn6A182E86"},"/index/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":["arn:aws:s3:::hivemind-kendra-memories-909507831547","arn:aws:s3:::hivemind-kendra-memories-909507831547/*"]},{"Action":"kendra:BatchPutDocument","Effect":"Allow","Resource":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexArnF0ADD5F8"}}],"Version":"2012-10-17"},"policyName":"MemoryIngestorLambdaRoleDefaultPolicyCF82680F","roles":[{"Ref":"MemoryIngestorLambdaRole2E29E0F0"}]}}}}}}},"FailureHandlerLambdaRole":{"id":"FailureHandlerLambdaRole","path":"HivemindPrism-Compute/FailureHandlerLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportFailureHandlerLambdaRole":{"id":"ImportFailureHandlerLambdaRole","path":"HivemindPrism-Compute/FailureHandlerLambdaRole/ImportFailureHandlerLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/FailureHandlerLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Lambda execution role: Handle mission failures","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"roleName":"HivemindFailureHandlerRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/FailureHandlerLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/FailureHandlerLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":["arn:aws:dynamodb:us-west-2:909507831547:table/HivemindMissionStatus-909507831547",{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"FailureHandlerLambdaRoleDefaultPolicy85083960","roles":[{"Ref":"FailureHandlerLambdaRole13A21A6B"}]}}}}}}},"HivemindCluster":{"id":"HivemindCluster","path":"HivemindPrism-Compute/HivemindCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/HivemindCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"HivemindPrism","clusterSettings":[{"name":"containerInsights","value":"enabled"}]}}},"HivemindCluster":{"id":"HivemindCluster","path":"HivemindPrism-Compute/HivemindCluster/HivemindCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"HivemindCluster94255979"},"defaultCapacityProviderStrategy":[]}}}}},"archaeologistExecutionRole":{"id":"archaeologistExecutionRole","path":"HivemindPrism-Compute/archaeologistExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportarchaeologistExecutionRole":{"id":"ImportarchaeologistExecutionRole","path":"HivemindPrism-Compute/archaeologistExecutionRole/ImportarchaeologistExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archaeologistExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/archaeologistExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archaeologistExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-west-2:909507831547:repository/cdk-hnb659fds-container-assets-909507831547-us-west-2"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["archaeologistLogGroupE40905D9","Arn"]}}],"Version":"2012-10-17"},"policyName":"archaeologistExecutionRoleDefaultPolicyB5713F6B","roles":[{"Ref":"archaeologistExecutionRoleE7945B2B"}]}}}}}}},"archaeologistTaskDef":{"id":"archaeologistTaskDef","path":"HivemindPrism-Compute/archaeologistTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archaeologistTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"909507831547.dkr.ecr.us-west-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-909507831547-us-west-2:d9adb7c0f0f22b55729ee51a9834e611ca89040f53e54c00b415d4da49ec3bf7"},"name":"archaeologist-agent","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"archaeologistLogGroupE40905D9"},"awslogs-stream-prefix":"archaeologist","awslogs-region":"us-west-2"}},"environment":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"S3_ARTIFACTS_BUCKET","value":"hivemind-artifacts-909507831547"},{"name":"S3_KENDRA_BUCKET","value":"hivemind-kendra-memories-909507831547"},{"name":"DYNAMODB_MISSION_TABLE","value":"HivemindMissionStatus-909507831547"},{"name":"DYNAMODB_TOOL_RESULTS_TABLE","value":"HivemindToolResults-909507831547"},{"name":"DYNAMODB_FINDINGS_TABLE","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"}},{"name":"REDIS_ENDPOINT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"}},{"name":"REDIS_PORT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}},{"name":"KENDRA_INDEX_ID","value":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-5-sonnet-20241022-v2:0"},{"name":"AGENT_NAME","value":"archaeologist"}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["archaeologistExecutionRoleE7945B2B","Arn"]},"family":"hivemind-archaeologist-agent","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ArchaeologistTaskRole8B61F93D","Arn"]}}}},"archaeologistContainer":{"id":"archaeologistContainer","path":"HivemindPrism-Compute/archaeologistTaskDef/archaeologistContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.220.0"},"children":{"AssetImage":{"id":"AssetImage","path":"HivemindPrism-Compute/archaeologistTaskDef/archaeologistContainer/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Compute/archaeologistTaskDef/archaeologistContainer/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Repository":{"id":"Repository","path":"HivemindPrism-Compute/archaeologistTaskDef/archaeologistContainer/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}}}}}}}},"archaeologistLogGroup":{"id":"archaeologistLogGroup","path":"HivemindPrism-Compute/archaeologistLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archaeologistLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/archaeologist-agent","retentionInDays":7}}}}},"strategistExecutionRole":{"id":"strategistExecutionRole","path":"HivemindPrism-Compute/strategistExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportstrategistExecutionRole":{"id":"ImportstrategistExecutionRole","path":"HivemindPrism-Compute/strategistExecutionRole/ImportstrategistExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/strategistExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/strategistExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/strategistExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-west-2:909507831547:repository/cdk-hnb659fds-container-assets-909507831547-us-west-2"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["strategistLogGroupEE1A63CD","Arn"]}}],"Version":"2012-10-17"},"policyName":"strategistExecutionRoleDefaultPolicy51317C07","roles":[{"Ref":"strategistExecutionRole47F607FB"}]}}}}}}},"strategistTaskDef":{"id":"strategistTaskDef","path":"HivemindPrism-Compute/strategistTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/strategistTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"909507831547.dkr.ecr.us-west-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-909507831547-us-west-2:9aa6aa3cf58a78bf5d77793e23039ca70d9ba7d50909e06b29aa913a7f758bd9"},"name":"strategist-agent","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"strategistLogGroupEE1A63CD"},"awslogs-stream-prefix":"strategist","awslogs-region":"us-west-2"}},"environment":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"S3_ARTIFACTS_BUCKET","value":"hivemind-artifacts-909507831547"},{"name":"S3_KENDRA_BUCKET","value":"hivemind-kendra-memories-909507831547"},{"name":"DYNAMODB_MISSION_TABLE","value":"HivemindMissionStatus-909507831547"},{"name":"DYNAMODB_TOOL_RESULTS_TABLE","value":"HivemindToolResults-909507831547"},{"name":"DYNAMODB_FINDINGS_TABLE","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"}},{"name":"REDIS_ENDPOINT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"}},{"name":"REDIS_PORT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}},{"name":"KENDRA_INDEX_ID","value":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-5-sonnet-20241022-v2:0"},{"name":"AGENT_NAME","value":"strategist"}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["strategistExecutionRole47F607FB","Arn"]},"family":"hivemind-strategist-agent","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["StrategistTaskRole541CBCB4","Arn"]}}}},"strategistContainer":{"id":"strategistContainer","path":"HivemindPrism-Compute/strategistTaskDef/strategistContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.220.0"},"children":{"AssetImage":{"id":"AssetImage","path":"HivemindPrism-Compute/strategistTaskDef/strategistContainer/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Compute/strategistTaskDef/strategistContainer/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Repository":{"id":"Repository","path":"HivemindPrism-Compute/strategistTaskDef/strategistContainer/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}}}}}}}},"strategistLogGroup":{"id":"strategistLogGroup","path":"HivemindPrism-Compute/strategistLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/strategistLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/strategist-agent","retentionInDays":7}}}}},"coordinatorExecutionRole":{"id":"coordinatorExecutionRole","path":"HivemindPrism-Compute/coordinatorExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportcoordinatorExecutionRole":{"id":"ImportcoordinatorExecutionRole","path":"HivemindPrism-Compute/coordinatorExecutionRole/ImportcoordinatorExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/coordinatorExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/coordinatorExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/coordinatorExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-west-2:909507831547:repository/cdk-hnb659fds-container-assets-909507831547-us-west-2"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["coordinatorLogGroupC38D7199","Arn"]}}],"Version":"2012-10-17"},"policyName":"coordinatorExecutionRoleDefaultPolicy649DFACB","roles":[{"Ref":"coordinatorExecutionRoleEBF9EEF6"}]}}}}}}},"coordinatorTaskDef":{"id":"coordinatorTaskDef","path":"HivemindPrism-Compute/coordinatorTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/coordinatorTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"909507831547.dkr.ecr.us-west-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-909507831547-us-west-2:b25c1578562cdf2dcadac482c91c9edf6f15f23403b4e90e9a5df650bdbe17d8"},"name":"coordinator-agent","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"coordinatorLogGroupC38D7199"},"awslogs-stream-prefix":"coordinator","awslogs-region":"us-west-2"}},"environment":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"S3_ARTIFACTS_BUCKET","value":"hivemind-artifacts-909507831547"},{"name":"S3_KENDRA_BUCKET","value":"hivemind-kendra-memories-909507831547"},{"name":"DYNAMODB_MISSION_TABLE","value":"HivemindMissionStatus-909507831547"},{"name":"DYNAMODB_TOOL_RESULTS_TABLE","value":"HivemindToolResults-909507831547"},{"name":"DYNAMODB_FINDINGS_TABLE","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"}},{"name":"REDIS_ENDPOINT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"}},{"name":"REDIS_PORT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}},{"name":"KENDRA_INDEX_ID","value":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-5-sonnet-20241022-v2:0"},{"name":"AGENT_NAME","value":"coordinator"}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["coordinatorExecutionRoleEBF9EEF6","Arn"]},"family":"hivemind-coordinator-agent","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["CoordinatorTaskRole9462B0FA","Arn"]}}}},"coordinatorContainer":{"id":"coordinatorContainer","path":"HivemindPrism-Compute/coordinatorTaskDef/coordinatorContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.220.0"},"children":{"AssetImage":{"id":"AssetImage","path":"HivemindPrism-Compute/coordinatorTaskDef/coordinatorContainer/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Compute/coordinatorTaskDef/coordinatorContainer/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Repository":{"id":"Repository","path":"HivemindPrism-Compute/coordinatorTaskDef/coordinatorContainer/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}}}}}}}},"coordinatorLogGroup":{"id":"coordinatorLogGroup","path":"HivemindPrism-Compute/coordinatorLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/coordinatorLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/coordinator-agent","retentionInDays":7}}}}},"synthesizerExecutionRole":{"id":"synthesizerExecutionRole","path":"HivemindPrism-Compute/synthesizerExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportsynthesizerExecutionRole":{"id":"ImportsynthesizerExecutionRole","path":"HivemindPrism-Compute/synthesizerExecutionRole/ImportsynthesizerExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/synthesizerExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/synthesizerExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/synthesizerExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-west-2:909507831547:repository/cdk-hnb659fds-container-assets-909507831547-us-west-2"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["synthesizerLogGroup1B251BC4","Arn"]}}],"Version":"2012-10-17"},"policyName":"synthesizerExecutionRoleDefaultPolicy193A7E62","roles":[{"Ref":"synthesizerExecutionRoleCB81EBAD"}]}}}}}}},"synthesizerTaskDef":{"id":"synthesizerTaskDef","path":"HivemindPrism-Compute/synthesizerTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/synthesizerTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"909507831547.dkr.ecr.us-west-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-909507831547-us-west-2:8530aa73a4d52c8f7c24d1c7fc30a848afdb3ed6c47c749bcf868b9cb424eeac"},"name":"synthesizer-agent","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"synthesizerLogGroup1B251BC4"},"awslogs-stream-prefix":"synthesizer","awslogs-region":"us-west-2"}},"environment":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"S3_ARTIFACTS_BUCKET","value":"hivemind-artifacts-909507831547"},{"name":"S3_KENDRA_BUCKET","value":"hivemind-kendra-memories-909507831547"},{"name":"DYNAMODB_MISSION_TABLE","value":"HivemindMissionStatus-909507831547"},{"name":"DYNAMODB_TOOL_RESULTS_TABLE","value":"HivemindToolResults-909507831547"},{"name":"DYNAMODB_FINDINGS_TABLE","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"}},{"name":"REDIS_ENDPOINT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"}},{"name":"REDIS_PORT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}},{"name":"KENDRA_INDEX_ID","value":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-5-sonnet-20241022-v2:0"},{"name":"AGENT_NAME","value":"synthesizer"}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["synthesizerExecutionRoleCB81EBAD","Arn"]},"family":"hivemind-synthesizer-agent","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["SynthesizerTaskRole69378926","Arn"]}}}},"synthesizerContainer":{"id":"synthesizerContainer","path":"HivemindPrism-Compute/synthesizerTaskDef/synthesizerContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.220.0"},"children":{"AssetImage":{"id":"AssetImage","path":"HivemindPrism-Compute/synthesizerTaskDef/synthesizerContainer/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Compute/synthesizerTaskDef/synthesizerContainer/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Repository":{"id":"Repository","path":"HivemindPrism-Compute/synthesizerTaskDef/synthesizerContainer/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}}}}}}}},"synthesizerLogGroup":{"id":"synthesizerLogGroup","path":"HivemindPrism-Compute/synthesizerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/synthesizerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/synthesizer-agent","retentionInDays":7}}}}},"criticExecutionRole":{"id":"criticExecutionRole","path":"HivemindPrism-Compute/criticExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportcriticExecutionRole":{"id":"ImportcriticExecutionRole","path":"HivemindPrism-Compute/criticExecutionRole/ImportcriticExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/criticExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/criticExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/criticExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-west-2:909507831547:repository/cdk-hnb659fds-container-assets-909507831547-us-west-2"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["criticLogGroup91479CCF","Arn"]}}],"Version":"2012-10-17"},"policyName":"criticExecutionRoleDefaultPolicy0D1D11FD","roles":[{"Ref":"criticExecutionRole5F426FC7"}]}}}}}}},"criticTaskDef":{"id":"criticTaskDef","path":"HivemindPrism-Compute/criticTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/criticTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"909507831547.dkr.ecr.us-west-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-909507831547-us-west-2:c84213826b2265a24002902c9c756f81b85658d781f96c045b9679ccbee48ea0"},"name":"critic-agent","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"criticLogGroup91479CCF"},"awslogs-stream-prefix":"critic","awslogs-region":"us-west-2"}},"environment":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"S3_ARTIFACTS_BUCKET","value":"hivemind-artifacts-909507831547"},{"name":"S3_KENDRA_BUCKET","value":"hivemind-kendra-memories-909507831547"},{"name":"DYNAMODB_MISSION_TABLE","value":"HivemindMissionStatus-909507831547"},{"name":"DYNAMODB_TOOL_RESULTS_TABLE","value":"HivemindToolResults-909507831547"},{"name":"DYNAMODB_FINDINGS_TABLE","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"}},{"name":"REDIS_ENDPOINT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"}},{"name":"REDIS_PORT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}},{"name":"KENDRA_INDEX_ID","value":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-5-sonnet-20241022-v2:0"},{"name":"AGENT_NAME","value":"critic"}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["criticExecutionRole5F426FC7","Arn"]},"family":"hivemind-critic-agent","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["CriticTaskRoleCAC1AFB2","Arn"]}}}},"criticContainer":{"id":"criticContainer","path":"HivemindPrism-Compute/criticTaskDef/criticContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.220.0"},"children":{"AssetImage":{"id":"AssetImage","path":"HivemindPrism-Compute/criticTaskDef/criticContainer/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Compute/criticTaskDef/criticContainer/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Repository":{"id":"Repository","path":"HivemindPrism-Compute/criticTaskDef/criticContainer/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}}}}}}}},"criticLogGroup":{"id":"criticLogGroup","path":"HivemindPrism-Compute/criticLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/criticLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/critic-agent","retentionInDays":7}}}}},"archivistExecutionRole":{"id":"archivistExecutionRole","path":"HivemindPrism-Compute/archivistExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportarchivistExecutionRole":{"id":"ImportarchivistExecutionRole","path":"HivemindPrism-Compute/archivistExecutionRole/ImportarchivistExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archivistExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/archivistExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archivistExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-west-2:909507831547:repository/cdk-hnb659fds-container-assets-909507831547-us-west-2"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["archivistLogGroupFC914BE5","Arn"]}}],"Version":"2012-10-17"},"policyName":"archivistExecutionRoleDefaultPolicy492E3059","roles":[{"Ref":"archivistExecutionRole522CA1A4"}]}}}}}}},"archivistTaskDef":{"id":"archivistTaskDef","path":"HivemindPrism-Compute/archivistTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archivistTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"909507831547.dkr.ecr.us-west-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-909507831547-us-west-2:ad35d098e7e1a08c9a18e18a4ee99b52165817fa5d87d98091301a1849466290"},"name":"archivist-agent","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"archivistLogGroupFC914BE5"},"awslogs-stream-prefix":"archivist","awslogs-region":"us-west-2"}},"environment":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"S3_ARTIFACTS_BUCKET","value":"hivemind-artifacts-909507831547"},{"name":"S3_KENDRA_BUCKET","value":"hivemind-kendra-memories-909507831547"},{"name":"DYNAMODB_MISSION_TABLE","value":"HivemindMissionStatus-909507831547"},{"name":"DYNAMODB_TOOL_RESULTS_TABLE","value":"HivemindToolResults-909507831547"},{"name":"DYNAMODB_FINDINGS_TABLE","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"}},{"name":"REDIS_ENDPOINT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointAddress2C712DA2"}},{"name":"REDIS_PORT","value":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputFnGetAttRedisClusterRedisEndpointPortD2710AFC"}},{"name":"KENDRA_INDEX_ID","value":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-5-sonnet-20241022-v2:0"},{"name":"AGENT_NAME","value":"archivist"}]}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["archivistExecutionRole522CA1A4","Arn"]},"family":"hivemind-archivist-agent","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ArchivistTaskRoleEE36BB64","Arn"]}}}},"archivistContainer":{"id":"archivistContainer","path":"HivemindPrism-Compute/archivistTaskDef/archivistContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.220.0"},"children":{"AssetImage":{"id":"AssetImage","path":"HivemindPrism-Compute/archivistTaskDef/archivistContainer/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"HivemindPrism-Compute/archivistTaskDef/archivistContainer/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Repository":{"id":"Repository","path":"HivemindPrism-Compute/archivistTaskDef/archivistContainer/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}}}}}}}},"archivistLogGroup":{"id":"archivistLogGroup","path":"HivemindPrism-Compute/archivistLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/archivistLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/archivist-agent","retentionInDays":7}}}}},"UnpackLambda":{"id":"UnpackLambda","path":"HivemindPrism-Compute/UnpackLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.220.0","metadata":[]},"children":{"Code":{"id":"Code","path":"HivemindPrism-Compute/UnpackLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"HivemindPrism-Compute/UnpackLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"HivemindPrism-Compute/UnpackLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"HivemindPrism-Compute/UnpackLambda/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/UnpackLambda/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function HivemindPrismComputeUnpackLambdaBFE930D9","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}}}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/UnpackLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-909507831547-us-west-2","s3Key":"da7a75d480d1300ac9cb93272a88eea0e0095d7cc9655b7cb431f0191bb5e326.zip"},"environment":{"variables":{"UPLOADS_BUCKET":"hivemind-uploads-909507831547","ARTIFACTS_BUCKET":"hivemind-artifacts-909507831547","MISSION_TABLE":"HivemindMissionStatus-909507831547"}},"ephemeralStorage":{"size":10240},"functionName":"HivemindUnpackAndValidate","handler":"index.handler","memorySize":3008,"role":{"Fn::GetAtt":["UnpackLambdaRoleCC4ECDC5","Arn"]},"runtime":"python3.12","timeout":900,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcIsolatedSubnet1Subnet01ABE97E363D737D"}],"securityGroupIds":[{"Fn::GetAtt":["UnpackLambdaSecurityGroup6A180B17","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"HivemindPrism-Compute/UnpackLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/UnpackLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"HivemindPrism-Compute/UnpackLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"MemoryIngestorLambda":{"id":"MemoryIngestorLambda","path":"HivemindPrism-Compute/MemoryIngestorLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.220.0","metadata":[]},"children":{"Code":{"id":"Code","path":"HivemindPrism-Compute/MemoryIngestorLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"HivemindPrism-Compute/MemoryIngestorLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"HivemindPrism-Compute/MemoryIngestorLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"HivemindPrism-Compute/MemoryIngestorLambda/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/MemoryIngestorLambda/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function HivemindPrismComputeMemoryIngestorLambda3781C584","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}}}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/MemoryIngestorLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-909507831547-us-west-2","s3Key":"bfa9408fefe293b92a9a857f027929bc36bbc928c636a1cce422a2b350244539.zip"},"environment":{"variables":{"FINDINGS_TABLE":{"Fn::ImportValue":"HivemindPrism-Storage:ExportsOutputRefFindingsArchiveTable557F1EE361AAD2FC"},"KENDRA_BUCKET":"hivemind-kendra-memories-909507831547","KENDRA_INDEX_ID":{"Fn::ImportValue":"HivemindPrism-Intelligence:ExportsOutputFnGetAttInstitutionalMemoryIndexId7D0FD2EE"}}},"functionName":"HivemindMemoryIngestor","handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["MemoryIngestorLambdaRole2E29E0F0","Arn"]},"runtime":"python3.12","timeout":120,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcIsolatedSubnet1Subnet01ABE97E363D737D"}],"securityGroupIds":[{"Fn::GetAtt":["MemoryIngestorLambdaSecurityGroup14A25DDD","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"HivemindPrism-Compute/MemoryIngestorLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/MemoryIngestorLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"HivemindPrism-Compute/MemoryIngestorLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"FailureHandlerLambda":{"id":"FailureHandlerLambda","path":"HivemindPrism-Compute/FailureHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.220.0","metadata":[]},"children":{"Code":{"id":"Code","path":"HivemindPrism-Compute/FailureHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"HivemindPrism-Compute/FailureHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"HivemindPrism-Compute/FailureHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"HivemindPrism-Compute/FailureHandlerLambda/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/FailureHandlerLambda/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function HivemindPrismComputeFailureHandlerLambda81E7153B","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpc63A10AFB0D723A0E"}}}}}},"Resource":{"id":"Resource","path":"HivemindPrism-Compute/FailureHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-909507831547-us-west-2","s3Key":"3d99d2c6420993c422c4b611f72443de929c174d7e2e39f30395d7b7a907e060.zip"},"environment":{"variables":{"MISSION_TABLE":"HivemindMissionStatus-909507831547"}},"functionName":"HivemindFailureHandler","handler":"index.handler","memorySize":128,"role":{"Fn::GetAtt":["FailureHandlerLambdaRole13A21A6B","Arn"]},"runtime":"python3.12","timeout":60,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcIsolatedSubnet1Subnet01ABE97E363D737D"}],"securityGroupIds":[{"Fn::GetAtt":["FailureHandlerLambdaSecurityGroupCADB30EF","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"HivemindPrism-Compute/FailureHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Compute/FailureHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"HivemindPrism-Compute/FailureHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"EcsClusterName":{"id":"EcsClusterName","path":"HivemindPrism-Compute/EcsClusterName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"UnpackLambdaArn":{"id":"UnpackLambdaArn","path":"HivemindPrism-Compute/UnpackLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HivemindPrism-Compute/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HivemindPrism-Compute/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"HivemindPrism-Compute/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"UnpackLambdaA542CFF8\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnpackLambdaA542CFF8\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"UnpackLambdaA542CFF8\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"FailureHandlerLambda9F818F09\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FailureHandlerLambda9F818F09\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"FailureHandlerLambda9F818F09\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"coordinatorTaskDefD6FC88DD\"}":{"id":"Output{\"Ref\":\"coordinatorTaskDefD6FC88DD\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"coordinatorTaskDefD6FC88DD\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"strategistTaskDef40F5F609\"}":{"id":"Output{\"Ref\":\"strategistTaskDef40F5F609\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"strategistTaskDef40F5F609\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"archaeologistTaskDef0C0F4ADA\"}":{"id":"Output{\"Ref\":\"archaeologistTaskDef0C0F4ADA\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"archaeologistTaskDef0C0F4ADA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"synthesizerTaskDef22D2EEBC\"}":{"id":"Output{\"Ref\":\"synthesizerTaskDef22D2EEBC\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"synthesizerTaskDef22D2EEBC\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"criticTaskDef3B08E328\"}":{"id":"Output{\"Ref\":\"criticTaskDef3B08E328\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"criticTaskDef3B08E328\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"archivistTaskDef1B107691\"}":{"id":"Output{\"Ref\":\"archivistTaskDef1B107691\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"archivistTaskDef1B107691\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"ArchaeologistTaskRole8B61F93D\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ArchaeologistTaskRole8B61F93D\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"ArchaeologistTaskRole8B61F93D\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"StrategistTaskRole541CBCB4\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"StrategistTaskRole541CBCB4\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"StrategistTaskRole541CBCB4\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"CoordinatorTaskRole9462B0FA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CoordinatorTaskRole9462B0FA\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"CoordinatorTaskRole9462B0FA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"SynthesizerTaskRole69378926\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"SynthesizerTaskRole69378926\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"SynthesizerTaskRole69378926\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"CriticTaskRoleCAC1AFB2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CriticTaskRoleCAC1AFB2\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"CriticTaskRoleCAC1AFB2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"ArchivistTaskRoleEE36BB64\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ArchivistTaskRoleEE36BB64\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"ArchivistTaskRoleEE36BB64\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"archaeologistExecutionRoleE7945B2B\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"archaeologistExecutionRoleE7945B2B\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"archaeologistExecutionRoleE7945B2B\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"strategistExecutionRole47F607FB\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"strategistExecutionRole47F607FB\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"strategistExecutionRole47F607FB\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"coordinatorExecutionRoleEBF9EEF6\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"coordinatorExecutionRoleEBF9EEF6\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"coordinatorExecutionRoleEBF9EEF6\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"synthesizerExecutionRoleCB81EBAD\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"synthesizerExecutionRoleCB81EBAD\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"synthesizerExecutionRoleCB81EBAD\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"criticExecutionRole5F426FC7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"criticExecutionRole5F426FC7\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"criticExecutionRole5F426FC7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"archivistExecutionRole522CA1A4\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"archivistExecutionRole522CA1A4\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"archivistExecutionRole522CA1A4\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"HivemindCluster94255979\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"HivemindCluster94255979\",\"Arn\"]}","path":"HivemindPrism-Compute/Exports/Output{\"Fn::GetAtt\":[\"HivemindCluster94255979\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"HivemindCluster94255979\"}":{"id":"Output{\"Ref\":\"HivemindCluster94255979\"}","path":"HivemindPrism-Compute/Exports/Output{\"Ref\":\"HivemindCluster94255979\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HivemindPrism-Compute/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HivemindPrism-Compute/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"HivemindPrism-Orchestration":{"id":"HivemindPrism-Orchestration","path":"HivemindPrism-Orchestration","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"StepFunctionsOrchestratorRole":{"id":"StepFunctionsOrchestratorRole","path":"HivemindPrism-Orchestration/StepFunctionsOrchestratorRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportStepFunctionsOrchestratorRole":{"id":"ImportStepFunctionsOrchestratorRole","path":"HivemindPrism-Orchestration/StepFunctionsOrchestratorRole/ImportStepFunctionsOrchestratorRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/StepFunctionsOrchestratorRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Role for Step Functions state machine orchestration","roleName":"HivemindStepFunctionsRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Orchestration/StepFunctionsOrchestratorRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/StepFunctionsOrchestratorRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttFailureHandlerLambda9F818F09Arn4EA3F01E"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttUnpackLambdaA542CFF8Arn3B0FFFD3"},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttFailureHandlerLambda9F818F09Arn4EA3F01E"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttUnpackLambdaA542CFF8Arn3B0FFFD3"},":*"]]}]},{"Action":"ecs:RunTask","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchaeologistTaskDef0C0F4ADA4DC35875"}]}]},":",{"Fn::Select":[2,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchaeologistTaskDef0C0F4ADA4DC35875"}]}]},":",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchaeologistTaskDef0C0F4ADA4DC35875"}]}]},":",{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchaeologistTaskDef0C0F4ADA4DC35875"}]}]},":",{"Fn::Select":[0,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchaeologistTaskDef0C0F4ADA4DC35875"}]}]}]}]},"/",{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchaeologistTaskDef0C0F4ADA4DC35875"}]}]}]}]},":*"]]},{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchivistTaskDef1B10769189C15DAF"}]}]},":",{"Fn::Select":[2,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchivistTaskDef1B10769189C15DAF"}]}]},":",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchivistTaskDef1B10769189C15DAF"}]}]},":",{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchivistTaskDef1B10769189C15DAF"}]}]},":",{"Fn::Select":[0,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchivistTaskDef1B10769189C15DAF"}]}]}]}]},"/",{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefarchivistTaskDef1B10769189C15DAF"}]}]}]}]},":*"]]},{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcoordinatorTaskDefD6FC88DD67855FC0"}]}]},":",{"Fn::Select":[2,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcoordinatorTaskDefD6FC88DD67855FC0"}]}]},":",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcoordinatorTaskDefD6FC88DD67855FC0"}]}]},":",{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcoordinatorTaskDefD6FC88DD67855FC0"}]}]},":",{"Fn::Select":[0,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcoordinatorTaskDefD6FC88DD67855FC0"}]}]}]}]},"/",{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcoordinatorTaskDefD6FC88DD67855FC0"}]}]}]}]},":*"]]},{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcriticTaskDef3B08E328D2B42F4C"}]}]},":",{"Fn::Select":[2,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcriticTaskDef3B08E328D2B42F4C"}]}]},":",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcriticTaskDef3B08E328D2B42F4C"}]}]},":",{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcriticTaskDef3B08E328D2B42F4C"}]}]},":",{"Fn::Select":[0,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcriticTaskDef3B08E328D2B42F4C"}]}]}]}]},"/",{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefcriticTaskDef3B08E328D2B42F4C"}]}]}]}]},":*"]]},{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefstrategistTaskDef40F5F6096E9DBBB0"}]}]},":",{"Fn::Select":[2,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefstrategistTaskDef40F5F6096E9DBBB0"}]}]},":",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefstrategistTaskDef40F5F6096E9DBBB0"}]}]},":",{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefstrategistTaskDef40F5F6096E9DBBB0"}]}]},":",{"Fn::Select":[0,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefstrategistTaskDef40F5F6096E9DBBB0"}]}]}]}]},"/",{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefstrategistTaskDef40F5F6096E9DBBB0"}]}]}]}]},":*"]]},{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefsynthesizerTaskDef22D2EEBC35D6B5CC"}]}]},":",{"Fn::Select":[2,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefsynthesizerTaskDef22D2EEBC35D6B5CC"}]}]},":",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefsynthesizerTaskDef22D2EEBC35D6B5CC"}]}]},":",{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefsynthesizerTaskDef22D2EEBC35D6B5CC"}]}]},":",{"Fn::Select":[0,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefsynthesizerTaskDef22D2EEBC35D6B5CC"}]}]}]}]},"/",{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefsynthesizerTaskDef22D2EEBC35D6B5CC"}]}]}]}]},":*"]]}]},{"Action":["ecs:DescribeTasks","ecs:RunTask","ecs:StopTask","events:DescribeRule","events:PutRule","events:PutTargets","logs:CreateLogDelivery","logs:DeleteLogDelivery","logs:DescribeLogGroups","logs:DescribeResourcePolicies","logs:GetLogDelivery","logs:ListLogDeliveries","logs:PutResourcePolicy","logs:UpdateLogDelivery","xray:GetSamplingRules","xray:GetSamplingTargets","xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"iam:PassRole","Effect":"Allow","Resource":[{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttArchaeologistTaskRole8B61F93DArn724F520B"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttArchivistTaskRoleEE36BB64Arn77DF6974"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttCoordinatorTaskRole9462B0FAArn5330578F"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttCriticTaskRoleCAC1AFB2Arn6FE7F62A"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttStrategistTaskRole541CBCB4Arn97D1F2E4"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttSynthesizerTaskRole69378926ArnBC79DC0F"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttarchaeologistExecutionRoleE7945B2BArnCAEC5042"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttarchivistExecutionRole522CA1A4Arn50372367"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttcoordinatorExecutionRoleEBF9EEF6Arn1213E3EF"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttcriticExecutionRole5F426FC7Arn9919F376"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttstrategistExecutionRole47F607FBArn74D02AA8"},{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttsynthesizerExecutionRoleCB81EBADArn618B8CB0"}]},{"Action":["events:DescribeRule","events:PutRule","events:PutTargets"],"Effect":"Allow","Resource":"arn:aws:events:us-west-2:909507831547:rule/StepFunctionsGetEventsForECSTaskRule"},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"CompletionTopic50E1DF26"}}],"Version":"2012-10-17"},"policyName":"StepFunctionsOrchestratorRoleDefaultPolicy73065EDC","roles":[{"Ref":"StepFunctionsOrchestratorRole75D1882F"}]}}}}}}},"CompletionTopic":{"id":"CompletionTopic","path":"HivemindPrism-Orchestration/CompletionTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/CompletionTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Hivemind Mission Completion Notifications","topicName":"HivemindMissionCompletions"}}}}},"UnpackAndValidate":{"id":"UnpackAndValidate","path":"HivemindPrism-Orchestration/UnpackAndValidate","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.220.0"}},"CoordinatorDecision":{"id":"CoordinatorDecision","path":"HivemindPrism-Orchestration/CoordinatorDecision","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"StrategistTaskAWS":{"id":"StrategistTaskAWS","path":"HivemindPrism-Orchestration/StrategistTaskAWS","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"ArchaeologistTask":{"id":"ArchaeologistTask","path":"HivemindPrism-Orchestration/ArchaeologistTask","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"StrategistTask":{"id":"StrategistTask","path":"HivemindPrism-Orchestration/StrategistTask","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"DeployContextAgents":{"id":"DeployContextAgents","path":"HivemindPrism-Orchestration/DeployContextAgents","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Parallel","version":"2.220.0"}},"ScanTypeDecision":{"id":"ScanTypeDecision","path":"HivemindPrism-Orchestration/ScanTypeDecision","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Choice","version":"2.220.0"}},"SynthesizerTask":{"id":"SynthesizerTask","path":"HivemindPrism-Orchestration/SynthesizerTask","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"CriticTask":{"id":"CriticTask","path":"HivemindPrism-Orchestration/CriticTask","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"LaunchSynthesisCrucible":{"id":"LaunchSynthesisCrucible","path":"HivemindPrism-Orchestration/LaunchSynthesisCrucible","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Parallel","version":"2.220.0"}},"WaitForConsensus":{"id":"WaitForConsensus","path":"HivemindPrism-Orchestration/WaitForConsensus","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Wait","version":"2.220.0"}},"ArchivistTask":{"id":"ArchivistTask","path":"HivemindPrism-Orchestration/ArchivistTask","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.EcsRunTask","version":"2.220.0"}},"NotifyCompletion":{"id":"NotifyCompletion","path":"HivemindPrism-Orchestration/NotifyCompletion","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.SnsPublish","version":"2.220.0"}},"HandleFailure":{"id":"HandleFailure","path":"HivemindPrism-Orchestration/HandleFailure","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.220.0"}},"FailureRecorded":{"id":"FailureRecorded","path":"HivemindPrism-Orchestration/FailureRecorded","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Succeed","version":"2.220.0"}},"StateMachineLogGroup":{"id":"StateMachineLogGroup","path":"HivemindPrism-Orchestration/StateMachineLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/StateMachineLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/stepfunctions/HivemindOrchestrator","retentionInDays":7}}}}},"AgenticOrchestrator":{"id":"AgenticOrchestrator","path":"HivemindPrism-Orchestration/AgenticOrchestrator","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/AgenticOrchestrator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"UnpackAndValidate\",\"States\":{\"UnpackAndValidate\":{\"Next\":\"ScanTypeDecision\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.error\",\"Next\":\"HandleFailure\"}],\"Type\":\"Task\",\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttUnpackLambdaA542CFF8Arn3B0FFFD3"},"\",\"Payload.$\":\"$\"}},\"ScanTypeDecision\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.scan_type\",\"StringEquals\":\"aws\",\"Next\":\"StrategistTaskAWS\"}],\"Default\":\"DeployContextAgents\"},\"DeployContextAgents\":{\"Type\":\"Parallel\",\"ResultPath\":\"$.context_results\",\"Next\":\"CoordinatorDecision\",\"Branches\":[{\"StartAt\":\"ArchaeologistTask\",\"States\":{\"ArchaeologistTask\":{\"End\":true,\"Type\":\"Task\",\"ResultPath\":\"$.archaeologisttask_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-archaeologist-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"archaeologist-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}}}},{\"StartAt\":\"StrategistTask\",\"States\":{\"StrategistTask\":{\"End\":true,\"Type\":\"Task\",\"ResultPath\":\"$.strategisttask_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-strategist-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"strategist-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}}}}]},\"CoordinatorDecision\":{\"Next\":\"LaunchSynthesisCrucible\",\"Type\":\"Task\",\"ResultPath\":\"$.coordinatordecision_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-coordinator-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"coordinator-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}},\"StrategistTaskAWS\":{\"Next\":\"CoordinatorDecision\",\"Type\":\"Task\",\"ResultPath\":\"$.strategisttaskaws_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-strategist-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"strategist-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}},\"LaunchSynthesisCrucible\":{\"Type\":\"Parallel\",\"ResultPath\":\"$.synthesis_results\",\"Next\":\"WaitForConsensus\",\"Branches\":[{\"StartAt\":\"SynthesizerTask\",\"States\":{\"SynthesizerTask\":{\"End\":true,\"Type\":\"Task\",\"ResultPath\":\"$.synthesizertask_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-synthesizer-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"synthesizer-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}}}},{\"StartAt\":\"CriticTask\",\"States\":{\"CriticTask\":{\"End\":true,\"Type\":\"Task\",\"ResultPath\":\"$.critictask_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-critic-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"critic-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}}}}]},\"WaitForConsensus\":{\"Type\":\"Wait\",\"Seconds\":10,\"Next\":\"ArchivistTask\"},\"ArchivistTask\":{\"Next\":\"NotifyCompletion\",\"Type\":\"Task\",\"ResultPath\":\"$.archivisttask_result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::ecs:runTask.sync\",\"Parameters\":{\"Cluster\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttHivemindCluster94255979Arn66AE51A5"},"\",\"TaskDefinition\":\"hivemind-archivist-agent\",\"NetworkConfiguration\":{\"AwsvpcConfiguration\":{\"Subnets\":[\"",{"Fn::ImportValue":"HivemindPrism-Network:ExportsOutputRefHivemindVpcPrivateSubnet1Subnet5BE540C434344ABF"},"\"],\"SecurityGroups\":[\"",{"Fn::ImportValue":"HivemindPrism-Security:ExportsOutputFnGetAttAgentTasksSg17243AF5GroupId133748B8"},"\"]}},\"Overrides\":{\"ContainerOverrides\":[{\"Name\":\"archivist-agent\",\"Environment\":[{\"Name\":\"MISSION_ID\",\"Value.$\":\"$.mission_id\"},{\"Name\":\"REPO_NAME\",\"Value.$\":\"$.repo_name\"}]}]},\"LaunchType\":\"FARGATE\",\"PlatformVersion\":\"LATEST\"}},\"NotifyCompletion\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::sns:publish\",\"Parameters\":{\"TopicArn\":\"",{"Ref":"CompletionTopic50E1DF26"},"\",\"Message\":{\"mission_id.$\":\"$.mission_id\",\"status\":\"COMPLETED\",\"message\":\"Analysis completed - check DynamoDB for findings\"}}},\"HandleFailure\":{\"Next\":\"FailureRecorded\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputFnGetAttFailureHandlerLambda9F818F09Arn4EA3F01E"},"\",\"Payload\":{\"mission_id.$\":\"$.mission_id\",\"error.$\":\"$.error\"}}},\"FailureRecorded\":{\"Type\":\"Succeed\"}},\"TimeoutSeconds\":3600}"]]},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["StateMachineLogGroup15B91BCB","Arn"]}}}],"level":"ALL"},"roleArn":{"Fn::GetAtt":["StepFunctionsOrchestratorRole75D1882F","Arn"]},"stateMachineName":"HivemindAgenticOrchestrator","tracingConfiguration":{"enabled":true}}}},"EventsRole":{"id":"EventsRole","path":"HivemindPrism-Orchestration/AgenticOrchestrator/EventsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportEventsRole":{"id":"ImportEventsRole","path":"HivemindPrism-Orchestration/AgenticOrchestrator/EventsRole/ImportEventsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/AgenticOrchestrator/EventsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"HivemindPrism-Orchestration/AgenticOrchestrator/EventsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/AgenticOrchestrator/EventsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"AgenticOrchestrator5676879C"}}],"Version":"2012-10-17"},"policyName":"AgenticOrchestratorEventsRoleDefaultPolicy1B206C19","roles":[{"Ref":"AgenticOrchestratorEventsRole35F27B79"}]}}}}}}}}},"CodeUploadTrigger":{"id":"CodeUploadTrigger","path":"HivemindPrism-Orchestration/CodeUploadTrigger","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/CodeUploadTrigger/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Triggers Step Functions when code is uploaded to S3","eventPattern":{"source":["aws.s3"],"detail-type":["Object Created"],"detail":{"bucket":{"name":["hivemind-uploads-909507831547"]},"object":{"key":[{"suffix":"source.tar.gz"}]}}},"name":"HivemindCodeUploadTrigger","state":"ENABLED","targets":[{"id":"Target0","arn":{"Ref":"AgenticOrchestrator5676879C"},"roleArn":{"Fn::GetAtt":["AgenticOrchestratorEventsRole35F27B79","Arn"]},"inputPath":"$"}]}}}}},"ExecutionFailureAlarm":{"id":"ExecutionFailureAlarm","path":"HivemindPrism-Orchestration/ExecutionFailureAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/ExecutionFailureAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CompletionTopic50E1DF26"}],"alarmDescription":"Alert when Step Functions execution fails","alarmName":"Hivemind-StateMachine-Failures","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"StateMachineArn","value":{"Ref":"AgenticOrchestrator5676879C"}}],"evaluationPeriods":1,"metricName":"ExecutionsFailed","namespace":"AWS/States","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"LongRunningExecutionAlarm":{"id":"LongRunningExecutionAlarm","path":"HivemindPrism-Orchestration/LongRunningExecutionAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/LongRunningExecutionAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CompletionTopic50E1DF26"}],"alarmDescription":"Alert when Step Functions execution runs longer than 45 minutes","alarmName":"Hivemind-StateMachine-LongRunning","comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"StateMachineArn","value":{"Ref":"AgenticOrchestrator5676879C"}}],"evaluationPeriods":1,"metricName":"ExecutionTime","namespace":"AWS/States","period":300,"statistic":"Maximum","threshold":2700000,"treatMissingData":"notBreaching"}}}}},"MCPTaskFailureAlarm":{"id":"MCPTaskFailureAlarm","path":"HivemindPrism-Orchestration/MCPTaskFailureAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"HivemindPrism-Orchestration/MCPTaskFailureAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CompletionTopic50E1DF26"}],"alarmDescription":"Alert when MCP tasks fail","alarmName":"Hivemind-MCP-Task-Failures","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"HivemindPrism-Compute:ExportsOutputRefHivemindCluster9425597927C437AA"}}],"evaluationPeriods":1,"metricName":"TasksFailed","namespace":"AWS/ECS","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"StateMachineArn":{"id":"StateMachineArn","path":"HivemindPrism-Orchestration/StateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CompletionTopicArn":{"id":"CompletionTopicArn","path":"HivemindPrism-Orchestration/CompletionTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"HivemindPrism-Orchestration/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"HivemindPrism-Orchestration/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HivemindPrism-Orchestration/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HivemindPrism-Orchestration/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}